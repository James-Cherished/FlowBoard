<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IdeaFlow</title>
  <script src="https://cdn.jsdelivr.net/npm/react@18/umd/react.development.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useEffect } = React;

   // ProjectCard Component
   const ProjectCard = ({ project, onToggleExpand, isExpanded, onCompletionChange, onDeleteProject, onUpdateProject }) => {
        const [showSlider, setShowSlider] = useState(false);
        const [tempCompletionPercentage, setTempCompletionPercentage] = useState(null);
        const [showDetailsEdit, setShowDetailsEdit] = useState(false);
        const [editProject, setEditProject] = useState(null);

        useEffect(() => {
            if (showDetailsEdit) {
                setEditProject({
                    ...project,
                    tags: project.tags.join(', '), // Convert tags array to comma-separated string for the input
                    subtasks: project.subtasks.map(task => task.name).join('\n') // Convert subtasks array to newline-separated string for the textarea
                });
            } else {
                setEditProject(null);
            }
        }, [showDetailsEdit, project]);

        const tagColors = ['#ef4444', '#10b981', '#3b82f6', '#f59e0b', '#8b5cf6'];
        const getTagColor = (tag) => {
            const hash = tag.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);
            return tagColors[hash % tagColors.length];
        };

      const cardColor = project.status === 'doing' && project.tags.length > 0
        ? getTagColor(project.tags[0])
        : '#ffffff';

       return (
           <div className="mb-4">
               <div
                 className="bg-white p-4 rounded-lg cursor-pointer"
                 style={{ borderColor: project.status === 'done' ? '#10b981' : cardColor, borderWidth: '1px', borderStyle: 'solid' }}
                 onClick={() => onToggleExpand(project.id)}
             >
                 <div className="flex items-center justify-between">
                     <h3 className="text-lg font-semibold text-gray-800">{project.title}</h3>
                     <button
                         onClick={(e) => {
                             e.stopPropagation();
                             setShowSlider(!showSlider);
                         }}
                         className="text-green-500 hover:text-green-700 text-2xl p-2"
                     >
                         &#9998;
                     </button>
                 </div>
                 <p className="text-gray-600">{project.description}</p>
                   <div className="mt-2">
                       {showSlider ? (
                           <div>
                               <input
                                   type="range"
                                   min="0"
                                   max="100"
                                   step="10"
                                   value={tempCompletionPercentage !== null ? tempCompletionPercentage : project.completion_percentage}
                                   onChange={(e) => setTempCompletionPercentage(Number(e.target.value))}
                                   className="w-full"
                               />
                              {tempCompletionPercentage !== null ? (
                                  <>
                                      <button
                                          onClick={() => {
                                              onCompletionChange(project.id, tempCompletionPercentage);
                                              setTempCompletionPercentage(null);
                                          }}
                                          className="text-green-500 hover:text-green-700 focus:outline-none ml-2"
                                      >
                                          &#10004;
                                      </button>
                                      <button
                                          onClick={() => setTempCompletionPercentage(null)}
                                          className="text-gray-500 hover:text-gray-700 focus:outline-none ml-2"
                                      >
                                          &#10006;
                                      </button>
                                  </>
                              ) : (
                                  <span className="text-sm text-gray-500">{project.completion_percentage}%</span>
                              )}
                      </div>
                  ) : (
                      project.status !== 'to do' && (
                          <div>
                              <progress
                                  className="w-full h-2 rounded"
                                  value={project.completion_percentage}
                                  max="100"
                              />
                              <span className="text-sm text-gray-500">{project.completion_percentage}%</span>
                          </div>
                      )
                  )}
              </div>
              <div className="mt-2 flex flex-wrap gap-1">
                  {project.tags.map((tag) => (
                      <span
                               key={tag}
                               className="text-xs text-white px-2 py-1 rounded"
                               style={{ backgroundColor: getTagColor(tag) }}
                            >
                                {tag}
                            </span>
                       ))}
                   </div>
               </div>
               {isExpanded && (
                   <div className="mt-2 p-4 bg-gray-50 rounded-lg">
                       <div className="flex items-center justify-between">
                           <h4 className="text-md font-medium text-gray-700">Details</h4>
                           <button
                               onClick={() => setShowDetailsEdit(!showDetailsEdit)}
                               className="text-gray-500 hover:text-gray-700 focus:outline-none text-xl"
                           >
                               &#9998;
                           </button>
                       </div>
                       {showDetailsEdit && editProject ? (
                           <div>
                               <div className="mt-4">
                                   <label className="block text-sm font-medium text-gray-700">Title</label>
                                   <input
                                       type="text"
                                       value={editProject.title}
                                       onChange={(e) => setEditProject({ ...editProject, title: e.target.value })}
                                       className="mt-1 p-2 w-full border rounded"
                                       required
                                   />
                               </div>
                               <div className="mt-4">
                                   <label className="block text-sm font-medium text-gray-700">Short Description</label>
                                   <textarea
                                       value={editProject.description}
                                       onChange={(e) => setDescription(e.target.value)}
                                       className="mt-1 p-2 w-full border rounded"
                                       rows="3"
                                       required
                                   ></textarea>
                               </div>
                               <div className="mt-4">
                                   <label className="block text-sm font-medium text-gray-700">Full Description</label>
                                   <textarea
                                       value={editProject.full_description}
                                       onChange={(e) => setEditProject({ ...editProject, full_description: e.target.value })}
                                       className="mt-1 p-2 w-full border rounded"
                                       rows="4"
                                   ></textarea>
                               </div>
                               <div className="mt-4">
                                   <label className="block text-sm font-medium text-gray-700">Tags (comma-separated)</label>
                                   <input
                                       type="text"
                                       value={editProject.tags}
                                       onChange={(e) => setEditProject({ ...editProject, tags: e.target.value })}
                                       className="mt-1 p-2 w-full border rounded"
                                   />
                               </div>
                               <div className="mt-4">
                                   <label className="block text-sm font-medium text-gray-700">Subtasks (one per line)</label>
                                   <textarea
                                       value={editProject.subtasks}
                                       onChange={(e) => setEditProject({ ...editProject, subtasks: e.target.value })}
                                       className="mt-1 p-2 w-full border rounded"
                                       rows="4"
                                   ></textarea>
                               </div>
                               <div className="flex justify-end space-x-2 mt-4">
                                   <button
                                       onClick={() => {
                                           const updatedProject = {
                                               ...project,
                                               title: editProject.title,
                                               description: editProject.description,
                                               full_description: editProject.full_description,
                                               tags: editProject.tags.split(',').map(tag => tag.trim()).filter(tag => tag),
                                               subtasks: editProject.subtasks.split('\n').map(task => ({
                                                   name: task.trim(),
                                                   completed: project.subtasks.find(st => st.name === task.trim())?.completed || false
                                               })).filter(task => task.name),
                                           };
                                           onUpdateProject(updatedProject);
                                           setShowDetailsEdit(false);
                                       }}
                                       className="px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600"
                                   >
                                       Save
                                   </button>
                                   <button
                                       onClick={() => {
                                           setShowDetailsEdit(false);
                                       }}
                                       className="px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400"
                                   >
                                       Cancel
                                   </button>
                               </div>
                           </div>
                       ) : (
                           <>
                               <p className="text-gray-600">{project.full_description}</p>
                               <h4 className="text-md font-medium text-gray-700 mt-2">Subtasks</h4>
                               <ul className="list-disc pl-5 text-gray-600">
                                   {project.subtasks.map((subtask, index) => (
                                       <li key={index}>
                                           {subtask.name} - {subtask.completed ? 'Done' : 'Pending'}
                                       </li>
                                   ))}
                               </ul>
                           </>
                       )}
                       <div className="flex justify-end">
                           <button
                               onClick={() => onDeleteProject(project.id)}
                               className="text-red-500 hover:text-red-700 mt-2 p-2"
                           >
                               &#10060; <span className="text-sm">DELETE</span>
                           </button>
                       </div>
                   </div>
               )}
           </div>
       );
   };

   // AddIdeaForm Component
   const AddIdeaForm = ({ onAddProject, onClose }) => {
      const [title, setTitle] = useState('');
      const [description, setDescription] = useState('');
      const [fullDescription, setFullDescription] = useState('');
      const [tags, setTags] = useState('');
      const [subtasks, setSubtasks] = useState('');
      const [completionPercentage, setCompletionPercentage] = useState(0);

      const handleSubmit = (e) => {
        e.preventDefault();
        const status = completionPercentage === 0 ? 'to do' : completionPercentage === 100 ? 'done' : 'doing';
        const newProject = {
          id: Date.now().toString(),
          title,
          description,
          full_description: fullDescription,
          completion_percentage: completionPercentage,
          status,
          tags: tags.split(',').map(tag => tag.trim()).filter(tag => tag),
          subtasks: subtasks.split('\n').map(task => ({
            name: task.trim(),
            completed: completionPercentage === 100
          })).filter(task => task.name),
        };
        onAddProject(newProject);
        onClose();
      };

      return (
        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
          <div className="bg-white p-6 rounded-lg w-full max-w-md">
            <h2 className="text-xl font-bold mb-4">Add New Idea</h2>
            <div>
              <label className="block text-sm font-medium text-gray-700">Title</label>
              <input
                type="text"
                value={title}
                onChange={(e) => setTitle(e.target.value)}
                className="mt-1 p-2 w-full border rounded"
                required
              />
            </div>
            <div className="mt-4">
              <label className="block text-sm font-medium text-gray-700">Short Description</label>
              <textarea
                value={description}
                onChange={(e) => setDescription(e.target.value)}
                className="mt-1 p-2 w-full border rounded"
                rows="3"
                required
              ></textarea>
            </div>
            <div className="mt-4">
              <label className="block text-sm font-medium text-gray-700">Full Description</label>
              <textarea
                value={fullDescription}
                onChange={(e) => setFullDescription(e.target.value)}
                className="mt-1 p-2 w-full border rounded"
                rows="4"
              ></textarea>
            </div>
            <div className="mt-4">
              <label className="block text-sm font-medium text-gray-700">Tags (comma-separated)</label>
              <input
                type="text"
                value={tags}
                onChange={(e) => setTags(e.target.value)}
                className="mt-1 p-2 w-full border rounded"
              />
            </div>
            <div className="mt-4">
              <label className="block text-sm font-medium text-gray-700">Subtasks (one per line)</label>
              <textarea
                value={subtasks}
                onChange={(e) => setSubtasks(e.target.value)}
                className="mt-1 p-2 w-full border rounded"
                rows="4"
              ></textarea>
            </div>
            <div className="mt-4">
              <label className="block text-sm font-medium text-gray-700">Completion Percentage</label>
              <input
                type="range"
                min="0"
                max="100"
                step="10"
                value={completionPercentage}
                onChange={(e) => setCompletionPercentage(Number(e.target.value))}
                className="w-full"
              />
              <span className="text-sm text-gray-500">{completionPercentage}%</span>
            </div>
            <div className="mt-4 flex justify-end space-x-2">
              <button
                onClick={onClose}
                className="px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400"
              >
                Cancel
              </button>
              <button
                onClick={handleSubmit}
                className="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
              >
                Add Idea
              </button>
            </div>
          </div>
        </div>
      );
    };

    // Main App Component
    const App = () => {
      const [projects, setProjects] = useState(() => {
        const saved = localStorage.getItem('ideaFlowProjects');
        return saved ? JSON.parse(saved) : [
          // DONE PROJECTS - All completed work
          {
            id: '1',
            title: 'FlowBoard Project Management App',
            description: 'Complete project management tool with React and localStorage',
            full_description: 'Successfully developed and deployed a comprehensive project management application using React, featuring drag-and-drop functionality, local persistence, and export capabilities. This demo showcases the full potential of the FlowBoard concept.',
            completion_percentage: 100,
            status: 'done',
            tags: ['work', 'react', 'completed'],
            subtasks: [
              { name: 'Design application architecture', completed: true },
              { name: 'Implement React components', completed: true },
              { name: 'Add localStorage persistence', completed: true },
              { name: 'Create export functionality', completed: true },
              { name: 'Write comprehensive documentation', completed: true },
            ],
          },
          {
            id: '2',
            title: 'Machine Learning Portfolio Website',
            description: 'Personal portfolio showcasing ML projects and certifications',
            full_description: 'Built a responsive website featuring my machine learning projects, including interactive demos, technical writeups, and downloadable datasets. Implemented modern web technologies and optimized for mobile devices.',
            completion_percentage: 100,
            status: 'done',
            tags: ['demo', 'work', 'ml', 'portfolio'],
            subtasks: [
              { name: 'Design website wireframes', completed: true },
              { name: 'Implement responsive layout', completed: true },
              { name: 'Add interactive ML demos', completed: true },
              { name: 'Optimize for performance', completed: true },
              { name: 'Deploy to production', completed: true },
            ],
          },
          {
            id: '3',
            title: 'Automated Testing Framework',
            description: 'Comprehensive testing suite for company projects',
            full_description: 'Created an automated testing framework that increased code coverage from 60% to 95% and reduced regression testing time by 75%. Integrated with CI/CD pipeline for continuous quality assurance.',
            completion_percentage: 100,
            status: 'done',
            tags: ['demo', 'work', 'testing', 'automation'],
            subtasks: [
              { name: 'Research testing best practices', completed: true },
              { name: 'Design framework architecture', completed: true },
              { name: 'Implement test cases', completed: true },
              { name: 'Integrate with CI/CD', completed: true },
              { name: 'Train team on framework usage', completed: true },
            ],
          },

          // DOING PROJECTS - Currently in progress
          {
            id: '4',
            title: 'E-commerce API Refactoring',
            description: 'Modernizing legacy e-commerce backend with GraphQL',
            full_description: 'Leading the modernization of our e-commerce platform by replacing REST APIs with GraphQL, improving query efficiency by 40% and reducing bandwidth usage. Working with cross-functional team to ensure seamless migration.',
            completion_percentage: 80,
            status: 'doing',
            tags: ['demo', 'work', 'api', 'graphql', 'refactoring'],
            subtasks: [
              { name: 'Analyze current REST API structure', completed: true },
              { name: 'Design GraphQL schema', completed: true },
              { name: 'Implement resolvers for core entities', completed: true },
              { name: 'Add authentication and authorization', completed: true },
              { name: 'Write comprehensive tests', completed: false },
              { name: 'Deploy to staging environment', completed: false },
            ],
          },
          {
            id: '5',
            title: 'DevOps Migration to Kubernetes',
            description: 'Moving containerized applications from Docker Compose to K8s',
            full_description: 'Orchestrating the migration of 15 microservices from Docker Compose to Kubernetes cluster. This involves creating deployment manifests, setting up monitoring, and ensuring zero-downtime deployments.',
            completion_percentage: 60,
            status: 'doing',
            tags: ['demo', 'work', 'devops', 'kubernetes', 'migration'],
            subtasks: [
              { name: 'Set up Kubernetes cluster', completed: true },
              { name: 'Create Docker images for all services', completed: true },
              { name: 'Write Kubernetes manifests', completed: true },
              { name: 'Set up monitoring with Prometheus', completed: true },
              { name: 'Implement service mesh (Istio)', completed: false },
              { name: 'Migration testing', completed: false },
              { name: 'Team training sessions', completed: false },
            ],
          },
          {
            id: '6',
            title: 'Real-time Chat Application',
            description: 'Building WebSocket-based chat app with React and Node.js',
            full_description: 'Developing a real-time chat application featuring group chats, private messages, file sharing, and emoji reactions. Using Socket.io for real-time communication and implementing end-to-end encryption.',
            completion_percentage: 70,
            status: 'doing',
            tags: ['demo', 'work', 'websocket', 'react', 'nodejs'],
            subtasks: [
              { name: 'Set up project structure and dependencies', completed: true },
              { name: 'Implement user authentication', completed: true },
              { name: 'Create basic chat interface', completed: true },
              { name: 'Add real-time messaging with Socket.io', completed: true },
              { name: 'Implement file upload functionality', completed: false },
              { name: 'Add end-to-end encryption', completed: false },
              { name: 'Mobile responsive design', completed: false },
            ],
          },
          {
            id: '7',
            title: 'Data Pipeline Optimization',
            description: 'Optimizing ETL pipeline processing 10M+ daily records',
            full_description: 'Optimizing our data ingestion pipeline to handle increased load. Implementing streaming architecture with Apache Kafka and improving processing speed from 2 hours to 30 minutes for daily batch jobs.',
            completion_percentage: 50,
            status: 'doing',
            tags: ['demo', 'work', 'data', 'kafka', 'optimization'],
            subtasks: [
              { name: 'Analyze current pipeline bottlenecks', completed: true },
              { name: 'Design new streaming architecture', completed: true },
              { name: 'Set up Apache Kafka cluster', completed: true },
              { name: 'Implement Kafka producers and consumers', completed: false },
              { name: 'Update data processing logic', completed: false },
              { name: 'Performance testing and optimization', completed: false },
            ],
          },
          {
            id: '8',
            title: 'Mobile App UI Components Library',
            description: 'Creating reusable UI components for React Native',
            full_description: 'Building a comprehensive UI component library for React Native applications. Includes design system, accessibility features, and comprehensive documentation to ensure consistency across all mobile projects.',
            completion_percentage: 40,
            status: 'doing',
            tags: ['demo', 'work', 'react-native', 'ui', 'library'],
            subtasks: [
              { name: 'Create design system foundation', completed: true },
              { name: 'Build basic component set (buttons, inputs, etc.)', completed: true },
              { name: 'Add theming and customization', completed: false },
              { name: 'Implement accessibility features', completed: false },
              { name: 'Create comprehensive documentation', completed: false },
              { name: 'Build component playground/demo app', completed: false },
            ],
          },
          {
            id: '9',
            title: 'AI-Powered Code Review Tool',
            description: 'ML-based tool for automated code quality assessment',
            full_description: 'Developing an AI-powered tool that analyzes code submissions and provides automated feedback on code quality, security vulnerabilities, and best practices. Using transformer models trained on open-source code repositories.',
            completion_percentage: 30,
            status: 'doing',
            tags: ['demo', 'work', 'ai', 'ml', 'code-review'],
            subtasks: [
              { name: 'Research code analysis techniques', completed: true },
              { name: 'Collect and clean training dataset', completed: true },
              { name: 'Design model architecture', completed: false },
              { name: 'Train ML model for code analysis', completed: false },
              { name: 'Implement CI/CD integration', completed: false },
              { name: 'Build user interface', completed: false },
            ],
          },

          // TO DO PROJECTS - Ready to start
          {
            id: '10',
            title: 'Blockchain Voting System',
            description: 'Secure and transparent voting platform using blockchain technology',
            full_description: 'Designing a blockchain-based voting system that ensures transparency, immutability, and voter privacy. Using Ethereum smart contracts for secure vote recording and zero-knowledge proofs for voter anonymity.',
            completion_percentage: 0,
            status: 'to do',
            tags: ['demo', 'work', 'blockchain', 'voting', 'ethereum'],
            subtasks: [
              { name: 'Research blockchain voting best practices', completed: false },
              { name: 'Design smart contract architecture', completed: false },
              { name: 'Implement smart contracts', completed: false },
              { name: 'Build voter interface', completed: false },
              { name: 'Implement admin dashboard', completed: false },
              { name: 'Security audit and testing', completed: false },
            ],
          },
          {
            id: '11',
            title: 'AR/VR Training Platform',
            description: 'Immersive training platform using AR/VR technologies',
            full_description: 'Creating an augmented and virtual reality training platform for corporate education. Implementing 3D simulations, hand tracking, and collaborative learning features to enhance employee training effectiveness.',
            completion_percentage: 0,
            status: 'to do',
            tags: ['demo', 'work', 'ar', 'vr', 'training'],
            subtasks: [
              { name: 'Research AR/VR frameworks and tools', completed: false },
              { name: 'Design platform architecture', completed: false },
              { name: 'Create 3D training modules', completed: false },
              { name: 'Implement collaborative features', completed: false },
              { name: 'Build content management system', completed: false },
            ],
          },
          {
            id: '12',
            title: 'IoT Home Automation Hub',
            description: 'Centralized IoT device management and automation platform',
            full_description: 'Building a comprehensive IoT home automation hub that can control and monitor various smart devices. Supporting multiple protocols (Zigbee, Z-Wave, WiFi) and providing an intuitive interface for home automation rules.',
            completion_percentage: 0,
            status: 'to do',
            tags: ['demo', 'work', 'iot', 'automation', 'home'],
            subtasks: [
              { name: 'Research IoT protocols and standards', completed: false },
              { name: 'Design system architecture', completed: false },
              { name: 'Develop device discovery and pairing', completed: false },
              { name: 'Create automation rule engine', completed: false },
              { name: 'Build mobile and web interfaces', completed: false },
            ],
          },

          // PERSONAL PROJECTS
          {
            id: '13',
            title: 'Personal Finance Tracker',
            description: 'Comprehensive personal finance management application',
            full_description: 'Building a personal finance tracker that categorizes expenses, provides spending insights, and helps with budgeting. Integrating with multiple bank APIs and providing beautiful data visualizations.',
            completion_percentage: 90,
            status: 'doing',
            tags: ['demo', 'personal', 'finance', 'react'],
            subtasks: [
              { name: 'Design application UI/UX', completed: true },
              { name: 'Implement expense tracking', completed: true },
              { name: 'Add income tracking', completed: true },
              { name: 'Create budget planning features', completed: true },
              { name: 'Implement data visualization', completed: true },
              { name: 'Add bank API integration', completed: false },
              { name: 'Deploy to app stores', completed: false },
            ],
          },
          {
            id: '14',
            title: 'Smart Garden Monitoring System',
            description: 'IoT-based automated garden monitoring and care system',
            full_description: 'Creating an IoT system that monitors soil moisture, temperature, humidity, and light levels for garden plants. Automatically waters plants when needed and sends notifications about plant health status.',
            completion_percentage: 60,
            status: 'doing',
            tags: ['demo', 'personal', 'iot', 'gardening', 'automation'],
            subtasks: [
              { name: 'Research plant care requirements', completed: true },
              { name: 'Design sensor network', completed: true },
              { name: 'Build hardware prototype', completed: true },
              { name: 'Implement sensor data collection', completed: true },
              { name: 'Create automated watering system', completed: false },
              { name: 'Build mobile monitoring app', completed: false },
            ],
          },
          {
            id: '15',
            title: 'Recipe Recommendation Engine',
            description: 'AI-powered recipe suggestions based on available ingredients',
            full_description: 'Developing a machine learning model that suggests recipes based on available ingredients, dietary preferences, and cooking history. Including nutritional analysis and meal planning features.',
            completion_percentage: 40,
            status: 'doing',
            tags: ['demo', 'personal', 'ai', 'cooking', 'ml'],
            subtasks: [
              { name: 'Collect and clean recipe dataset', completed: true },
              { name: 'Design recommendation algorithm', completed: true },
              { name: 'Implement ingredient matching', completed: false },
              { name: 'Add nutritional analysis', completed: false },
              { name: 'Create meal planning features', completed: false },
              { name: 'Build user interface', completed: false },
            ],
          },
          {
            id: '16',
            title: 'Home Security System',
            description: 'DIY home security system with computer vision',
            full_description: 'Building a comprehensive home security system using Raspberry Pi, cameras, and computer vision. Features include motion detection, face recognition, mobile alerts, and cloud storage.',
            completion_percentage: 20,
            status: 'doing',
            tags: ['demo', 'personal', 'security', 'computer-vision', 'raspberry-pi'],
            subtasks: [
              { name: 'Research security system requirements', completed: true },
              { name: 'Design system architecture', completed: true },
              { name: 'Set up Raspberry Pi hardware', completed: false },
              { name: 'Implement motion detection', completed: false },
              { name: 'Add face recognition capability', completed: false },
              { name: 'Create mobile app', completed: false },
            ],
          },
          {
            id: '17',
            title: 'Virtual Art Gallery',
            description: '3D virtual gallery for showcasing digital artwork',
            full_description: 'Creating an immersive 3D virtual art gallery where artists can showcase their digital artwork. Visitors can walk through the gallery using WASD controls and view art pieces in a realistic environment.',
            completion_percentage: 10,
            status: 'doing',
            tags: ['demo', 'personal', '3d', 'art', 'webgl'],
            subtasks: [
              { name: 'Design gallery layout and navigation', completed: true },
              { name: 'Research 3D web technologies (Three.js)', completed: true },
              { name: 'Create 3D gallery environment', completed: false },
              { name: 'Implement artwork display system', completed: false },
              { name: 'Add artist profile pages', completed: false },
              { name: 'Optimize performance', completed: false },
            ],
          },
          {
            id: '18',
            title: 'Personal Health Tracker',
            description: 'Comprehensive health and wellness tracking application',
            full_description: 'Building a personal health tracker that monitors daily activities, sleep patterns, nutrition, and mood. Providing insights and recommendations to improve overall health and wellness.',
            completion_percentage: 0,
            status: 'to do',
            tags: ['demo', 'personal', 'health', 'wellness', 'tracking'],
            subtasks: [
              { name: 'Research health tracking methodologies', completed: false },
              { name: 'Design user interface', completed: false },
              { name: 'Implement activity tracking', completed: false },
              { name: 'Add sleep monitoring features', completed: false },
              { name: 'Create nutrition tracking', completed: false },
              { name: 'Build analytics dashboard', completed: false },
            ],
          },

          // LEARNING & DEVELOPMENT PROJECTS
          {
            id: '19',
            title: 'Rust Programming Mastery',
            description: 'Learning Rust for systems programming and performance',
            full_description: 'Diving deep into Rust programming language through practical projects. Building command-line tools, web servers, and exploring Rust\'s ownership model and memory safety features.',
            completion_percentage: 70,
            status: 'doing',
            tags: ['demo', 'learning', 'rust', 'systems-programming'],
            subtasks: [
              { name: 'Complete Rust basics tutorial', completed: true },
              { name: 'Build command-line calculator', completed: true },
              { name: 'Implement web server with Actix-web', completed: true },
              { name: 'Explore async/await patterns', completed: true },
              { name: 'Build a mini text editor', completed: false },
              { name: 'Contribute to open source Rust project', completed: false },
            ],
          },
          {
            id: '20',
            title: 'Quantum Computing Fundamentals',
            description: 'Learning quantum computing concepts and Q# programming',
            full_description: 'Studying quantum computing principles including qubits, quantum gates, and quantum algorithms. Implementing quantum programs using Microsoft Q# and exploring quantum machine learning.',
            completion_percentage: 50,
            status: 'doing',
            tags: ['demo', 'learning', 'quantum', 'qsharp', 'microsoft'],
            subtasks: [
              { name: 'Study quantum mechanics basics', completed: true },
              { name: 'Learn Q# programming language', completed: true },
              { name: 'Implement basic quantum gates', completed: true },
              { name: 'Build quantum random number generator', completed: false },
              { name: 'Explore quantum algorithms (Grover, Shor)', completed: false },
              { name: 'Research quantum machine learning', completed: false },
            ],
          },
          {
            id: '21',
            title: 'Cybersecurity Certification Study',
            description: 'Preparing for CISSP and OSCP certifications',
            full_description: 'Comprehensive study program for cybersecurity certifications including CISSP (Certified Information Systems Security Professional) and OSCP (Offensive Security Certified Professional).',
            completion_percentage: 80,
            status: 'doing',
            tags: ['demo', 'learning', 'cybersecurity', 'certification'],
            subtasks: [
              { name: 'Study information security concepts', completed: true },
              { name: 'Complete CISSP practice exams', completed: true },
              { name: 'Learn penetration testing techniques', completed: true },
              { name: 'Set up penetration testing lab', completed: true },
              { name: 'Take OSCP practice challenges', completed: false },
              { name: 'Schedule certification exams', completed: false },
            ],
          },
          {
            id: '22',
            title: 'Machine Learning from Scratch',
            description: 'Implementing ML algorithms without frameworks',
            full_description: 'Deep dive into machine learning by implementing popular algorithms from scratch using only NumPy. Understanding the mathematical foundations and optimizing for performance.',
            completion_percentage: 30,
            status: 'doing',
            tags: ['demo', 'learning', 'machine-learning', 'numpy', 'mathematics'],
            subtasks: [
              { name: 'Study linear algebra and statistics', completed: true },
              { name: 'Implement linear regression from scratch', completed: true },
              { name: 'Build decision tree algorithm', completed: true },
              { name: 'Implement neural network from scratch', completed: false },
              { name: 'Add clustering algorithms (K-means, DBSCAN)', completed: false },
              { name: 'Optimize implementations for performance', completed: false },
            ],
          },
          {
            id: '23',
            title: 'Web3 and DeFi Development',
            description: 'Learning blockchain development and decentralized finance',
            full_description: 'Exploring Web3 development by building decentralized applications (dApps) and smart contracts. Understanding DeFi protocols and implementing automated market makers.',
            completion_percentage: 20,
            status: 'doing',
            tags: ['demo', 'learning', 'web3', 'defi', 'smart-contracts'],
            subtasks: [
              { name: 'Study blockchain fundamentals', completed: true },
              { name: 'Learn Solidity programming', completed: true },
              { name: 'Build basic smart contracts', completed: false },
              { name: 'Create ERC-20 token', completed: false },
              { name: 'Implement decentralized exchange', completed: false },
              { name: 'Deploy to testnet/mainnet', completed: false },
            ],
          },

          // LIFE & WELLNESS PROJECTS
          {
            id: '24',
            title: 'Fitness Goal Achievement',
            description: 'Structured fitness program with measurable milestones',
            full_description: 'Following a comprehensive 12-week fitness program combining strength training, cardio, and flexibility work. Tracking progress through various metrics and adjusting workout intensity based on results.',
            completion_percentage: 85,
            status: 'doing',
            tags: ['demo', 'life', 'fitness', 'health', 'goals'],
            subtasks: [
              { name: 'Design personalized workout plan', completed: true },
              { name: 'Establish baseline measurements', completed: true },
              { name: 'Complete 4-week strength training phase', completed: true },
              { name: 'Complete 4-week cardio improvement phase', completed: true },
              { name: 'Start 4-week flexibility and maintenance phase', completed: false },
              { name: 'Achieve target weight and muscle mass goals', completed: false },
            ],
          },
          {
            id: '25',
            title: 'Home Kitchen Renovation',
            description: 'Complete kitchen remodel with modern appliances and design',
            full_description: 'Planning and executing a full kitchen renovation including new cabinets, countertops, appliances, and lighting. Managing the project timeline and budget while coordinating with contractors.',
            completion_percentage: 60,
            status: 'doing',
            tags: ['demo', 'life', 'home-improvement', 'renovation'],
            subtasks: [
              { name: 'Create kitchen design and layout', completed: true },
              { name: 'Obtain necessary permits', completed: true },
              { name: 'Order cabinets and appliances', completed: true },
              { name: 'Coordinate demolition and installation', completed: true },
              { name: 'Install backsplash and final touches', completed: false },
              { name: 'Final inspection and cleanup', completed: false },
            ],
          },
          {
            id: '26',
            title: 'Wedding Planning Process',
            description: 'Comprehensive wedding planning for next summer',
            full_description: 'Planning a wedding for 150 guests including venue selection, catering, photography, music, and decorations. Managing vendors, budget, and timeline to ensure a perfect celebration.',
            completion_percentage: 40,
            status: 'doing',
            tags: ['demo', 'life', 'wedding', 'planning', 'events'],
            subtasks: [
              { name: 'Set wedding budget and guest list', completed: true },
              { name: 'Research and book venue', completed: true },
              { name: 'Choose wedding theme and colors', completed: true },
              { name: 'Book photographer and catering', completed: false },
              { name: 'Plan honeymoon itinerary', completed: false },
              { name: 'Send save-the-dates and invitations', completed: false },
            ],
          },
          {
            id: '27',
            title: 'Language Learning Journey',
            description: 'Achieving conversational fluency in Spanish',
            full_description: 'Dedicated Spanish language learning program using multiple methods including online courses, conversation practice, and cultural immersion activities. Target: conversational fluency within 18 months.',
            completion_percentage: 75,
            status: 'doing',
            tags: ['demo', 'life', 'language-learning', 'spanish', 'culture'],
            subtasks: [
              { name: 'Complete beginner Spanish course', completed: true },
              { name: 'Master basic grammar and vocabulary', completed: true },
              { name: 'Start conversation practice sessions', completed: true },
              { name: 'Watch Spanish movies without subtitles', completed: true },
              { name: 'Plan immersion trip to Spanish-speaking country', completed: false },
              { name: 'Take formal Spanish proficiency exam', completed: false },
            ],
          },
          {
            id: '28',
            title: 'Photography Portfolio Development',
            description: 'Building professional photography portfolio and skills',
            full_description: 'Developing photography skills across multiple genres including portraits, landscapes, and street photography. Building a professional portfolio and learning post-processing techniques.',
            completion_percentage: 30,
            status: 'doing',
            tags: ['demo', 'life', 'photography', 'creative', 'portfolio'],
            subtasks: [
              { name: 'Study photography fundamentals', completed: true },
              { name: 'Learn composition and lighting techniques', completed: true },
              { name: 'Practice with different camera equipment', completed: false },
              { name: 'Build photography portfolio website', completed: false },
              { name: 'Participate in photography competitions', completed: false },
              { name: 'Attend photography workshops and events', completed: false },
            ],
          },
          {
            id: '29',
            title: 'Car Restoration Project',
            description: 'Classic car restoration - 1967 Ford Mustang',
            full_description: 'Restoring a classic 1967 Ford Mustang to showroom condition. Including engine rebuild, body work, interior restoration, and period-correct modifications.',
            completion_percentage: 15,
            status: 'doing',
            tags: ['demo', 'life', 'automotive', 'restoration', 'classic-car'],
            subtasks: [
              { name: 'Assess current car condition and create restoration plan', completed: true },
              { name: 'Source original and reproduction parts', completed: true },
              { name: 'Disassemble car for restoration', completed: false },
              { name: 'Restore engine and transmission', completed: false },
              { name: 'Complete body work and painting', completed: false },
              { name: 'Restore interior and final assembly', completed: false },
            ],
          },
          {
            id: '30',
            title: 'Meditation and Mindfulness Practice',
            description: 'Daily meditation practice for mental wellness and stress reduction',
            full_description: 'Establishing a consistent daily meditation practice using various techniques including mindfulness, breathing exercises, and body scan meditations to improve mental clarity and reduce stress.',
            completion_percentage: 0,
            status: 'to do',
            tags: ['demo', 'life', 'meditation', 'mindfulness', 'wellness'],
            subtasks: [
              { name: 'Research meditation techniques and benefits', completed: false },
              { name: 'Set up dedicated meditation space', completed: false },
              { name: 'Start with 10-minute daily sessions', completed: false },
              { name: 'Gradually increase session duration', completed: false },
              { name: 'Join meditation community or group', completed: false },
              { name: 'Track progress and mental wellness metrics', completed: false },
            ],
          },
        ];
      });
      const [expandedProjects, setExpandedProjects] = useState({});
      const [showForm, setShowForm] = useState(false);
      const [showResetDialog, setShowResetDialog] = useState(false);

      useEffect(() => {
        localStorage.setItem('ideaFlowProjects', JSON.stringify(projects));
      }, [projects]);

      const addProject = (project) => {
        setProjects([...projects, project]);
      };

      const toggleExpand = (projectId) => {
        setExpandedProjects((prev) => ({
          ...prev,
          [projectId]: !prev[projectId],
        }));
    };

    const handleCompletionChange = (projectId, newPercentage) => {
        const updatedProjects = projects.map(project => {
            if (project.id === projectId) {
                const newStatus = newPercentage === 0 ? 'to do' : newPercentage === 100 ? 'done' : 'doing';
                return { ...project, completion_percentage: newPercentage, status: newStatus };
            }
            return project;
        });
        setProjects(updatedProjects);
    };

    const deleteProject = (projectId) => {
        const updatedProjects = projects.filter(project => project.id !== projectId);
        setProjects(updatedProjects);
    };

    const updateProject = (updatedProject) => {
        const updatedProjects = projects.map(project => {
            if (project.id === updatedProject.id) {
                // Recalculate status based on completion percentage
                const newStatus = updatedProject.completion_percentage === 0 ? 'to do' : updatedProject.completion_percentage === 100 ? 'done' : 'doing';
                return { ...updatedProject, status: newStatus };
            }
            return project;
        });
        setProjects(updatedProjects);
    };

    const resetBoard = () => {
        localStorage.removeItem('ideaFlowProjects');
        window.location.reload();
    };

       const exportAsJpg = () => {
         const board = document.querySelector('#ideaFlowBoard');
         window.html2canvas(board).then((canvas) => {
           const link = document.createElement('a');
           link.download = 'IdeaFlow-Board.jpg';
           link.href = canvas.toDataURL('image/jpeg');
           link.click();
         });
       };

       const exportAsPdf = () => {
         const board = document.querySelector('#ideaFlowBoard');
         window.html2canvas(board).then((canvas) => {
           const imgData = canvas.toDataURL('image/png');
           const pdf = new window.jspdf.jsPDF({
             orientation: 'p', // Portrait
             unit: 'px',
             format: [canvas.width, canvas.height] // Use canvas dimensions
           });

           pdf.addImage(imgData, 'PNG', 0, 0, canvas.width, canvas.height);
           pdf.save('IdeaFlow-Board.pdf');
         });
       };

       const blocks = [
         { status: 'done', title: 'Done', bgColor: 'bg-green-100', headerColor: 'bg-green-500' },
         { status: 'doing', title: 'Doing', bgColor: 'bg-blue-100', headerColor: 'bg-blue-500' },
         { status: 'to do', title: 'To Do', bgColor: 'bg-gray-100', headerColor: 'bg-gray-500' },
       ];

       return (
         <div className="container mx-auto p-4 max-w-3xl">
           <h1 className="text-2xl font-bold mb-2">IdeaFlow: Your Project Board that just Flows!</h1>
           <div className="bg-yellow-100 border-l-4 border-yellow-500 p-4 mb-4 rounded">
             <div className="flex items-center">
               <div className="text-yellow-700">
                 <div className="font-bold text-center mb-3">DEMO MODE</div>
                 <div className="text-sm text-center">The demo data showcases the powerful extent of this private project management webapp across work, personal projects and life goals. You can freely modify or delete any of this to create your own project board.</div>
               </div>
             </div>
           </div>
           <div className="mb-4 flex items-center">
             <button
               className="px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 mr-2"
               onClick={() => setShowForm(true)}
             >
               Add Idea
             </button>
             <button
               className="px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 mr-auto"
               onClick={() => setShowResetDialog(true)}
             >
              Clear Board
             </button>
             <div className="flex space-x-2 mx-auto">
               <button
                 className="px-4 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700"
                 onClick={() => {
                   const element = document.createElement("a");
                   const file = new Blob(
                     [JSON.stringify(projects)],
                     {type: 'application/json'}
                   );
                   element.href = URL.createObjectURL(file);
                   element.download = "ideaFlowBoard.json";
                   document.body.appendChild(element); // Required for this to work in FireFox
                   element.click();
                 }}
               >
                 Export Board (JSON)
               </button>
               <button
                 className="px-4 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700"
                 onClick={() => document.getElementById('importFile').click()}
               >
                 Import Board (JSON)
               </button>
             </div>
             <button
               className="px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 ml-auto"
               onClick={exportAsJpg}
             >
               JPG
             </button>
             {/* Add PDF Export Button */}
             <button
               className="px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 ml-2"
               onClick={exportAsPdf}
             >
               PDF
             </button>
             <input type="file" id="importFile" accept=".json" style={{display: "none"}} onChange={(event) => {
               const file = event.target.files[0];
               const reader = new FileReader();
               reader.onload = (event) => {
                 const json = JSON.parse(event.target.result);
                 if (window.confirm("Importing will overwrite your current board data. Are you sure?")) {
                   setProjects(json);
                 }
               }
               reader.readAsText(file);
             }}/>
           </div>
           <div id="ideaFlowBoard" className="flex flex-col md:flex-row overflow-x-auto md:overflow-visible gap-4 pb-4">
             {blocks.map((block) => (
               <div key={block.status} className={`flex-shrink-0 w-full md:w-80 p-4 rounded-lg ${block.bgColor}`}>
                 <h2 className={`text-xl font-semibold text-white p-2 rounded ${block.headerColor}`}>
                   {block.title}
                 </h2>
                 <div className="mt-4">
                   {projects
                     .filter((p) => p.status === block.status)
                     .map((project) => (
                       <ProjectCard
                         key={project.id}
                         project={project}
                         onToggleExpand={toggleExpand}
                         isExpanded={expandedProjects[project.id]}
                         onCompletionChange={handleCompletionChange}
                         onDeleteProject={deleteProject}
                         onUpdateProject={updateProject}
                       />
                     ))}
                 </div>
               </div>
             ))}
           </div>
           {showForm && (
             <AddIdeaForm
               onAddProject={addProject}
               onClose={() => setShowForm(false)}
             />
           )}
           {showResetDialog && (
             <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
               <div className="bg-white p-6 rounded-lg w-full max-w-md">
                 <h2 className="text-xl font-bold mb-4 text-red-600"> Reset Board - Data Loss Warning</h2>
                 <div className="mb-4">
                   <p className="text-gray-800 mb-2">
                     <strong>This action will permanently delete all your current project data:</strong>
                   </p>
                   <ul className="list-disc pl-5 text-gray-700 text-sm mb-3">
                     <li>All projects currently on your board</li>
                     <li>All project details, descriptions, and full descriptions</li>
                     <li>All progress tracking and completion percentages</li>
                     <li>All tags and categories</li>
                     <li>All subtasks and their completion status</li>
                     <li>All custom project modifications</li>
                   </ul>
                   <p className="text-gray-700 text-sm mb-2">
                     <strong>After reset:</strong>
                   </p>
                   <ul className="list-disc pl-5 text-gray-700 text-sm mb-3">
                     <li>Board will reload with original demo data (30 sample projects)</li>
                     <li>All current progress will be lost forever</li>
                     <li>Action cannot be undone</li>
                   </ul>
                   <div className="bg-red-50 border border-red-200 rounded p-3 mb-3">
                     <p className="text-red-700 text-sm">
                       <strong>Recommendation:</strong> Use "Export Board (JSON)" before resetting to backup your data.
                     </p>
                   </div>
                 </div>
                 <div className="flex justify-end space-x-2">
                   <button
                     onClick={() => setShowResetDialog(false)}
                     className="px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400"
                   >
                     Cancel
                   </button>
                   <button
                     onClick={() => {
                       if (window.confirm("Are you absolutely sure? This will delete ALL your current projects permanently!")) {
                         resetBoard();
                       }
                     }}
                     className="px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700"
                   >
                     Yes, Delete Everything
                   </button>
                 </div>
               </div>
             </div>
           )}
         </div>
       );
     };

     // Render the app
     ReactDOM.render(<App />, document.getElementById('root'));
  </script>
</body>
</html>